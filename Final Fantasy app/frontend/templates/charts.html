{% extends 'base.html' %}
{% block title %}Charts{% endblock %}
{% block head_scripts %}<script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>{% endblock %}
{% block content %}

      <section>
        <h2>Position Breakdown</h2>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:8px;">
          <button id="export-pie" class="btn-small">Export Pie</button>
        </div>
        <div id="chart-pie" style="width:100%; height:420px;"></div>
      </section>

      <section>
        <h2>Strength Over Weeks</h2>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:8px;">
          <button id="export-line" class="btn-small">Export Line</button>
        </div>
        <div id="chart-line" style="width:100%; height:420px;"></div>
      </section>

      <section>
        <h2>Starters vs Bench</h2>
        <div style="display:flex; align-items:center; gap:8px; margin-bottom:8px;">
          <button id="export-bar" class="btn-small">Export Bar</button>
        </div>
        <div id="chart-bar" style="width:100%; height:380px;"></div>
      </section>
    <script> 
      window.__strength_history = {{ strength_history|tojson }};
      window.__breakdown = {{ breakdown|tojson }};
      window.__starter_strength = {{ starter_strength|tojson }};
      window.__bench_strength = {{ bench_strength|tojson }};
    </script>
{% endblock %}
